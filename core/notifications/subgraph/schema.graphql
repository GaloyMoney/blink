type InAppNotification {
	id: ID!
	title: String!
	body: String!
	deepLink: String
	createdAt: Timestamp!
	readAt: Timestamp
}


type Mutation {
	userDisableNotificationChannel(input: UserDisableNotificationChannelInput!): UserUpdateNotificationSettingsPayload!
	userEnableNotificationChannel(input: UserEnableNotificationChannelInput!): UserUpdateNotificationSettingsPayload!
	userDisableNotificationCategory(input: UserDisableNotificationCategoryInput!): UserUpdateNotificationSettingsPayload!
	userEnableNotificationCategory(input: UserEnableNotificationCategoryInput!): UserUpdateNotificationSettingsPayload!
	userMarkInAppNotificationAsRead(input: UserMarkInAppNotificationAsReadInput!): UserMarkInAppNotificationAsReadPayload!
}



scalar Timestamp

extend type User @key(fields: "id") {
	id: ID! @external
	notificationSettings: UserNotificationSettings!
	inAppNotifications(onlyUnread: Boolean): [InAppNotification!]!
}

input UserDisableNotificationCategoryInput {
	channel: UserNotificationChannel!
	category: UserNotificationCategory!
}

input UserDisableNotificationChannelInput {
	channel: UserNotificationChannel!
}

input UserEnableNotificationCategoryInput {
	channel: UserNotificationChannel!
	category: UserNotificationCategory!
}

input UserEnableNotificationChannelInput {
	channel: UserNotificationChannel!
}

input UserMarkInAppNotificationAsReadInput {
	notificationId: ID!
}

type UserMarkInAppNotificationAsReadPayload {
	notification: InAppNotification!
}

enum UserNotificationCategory {
	CIRCLES
	PAYMENTS
	ADMIN_NOTIFICATION
	MARKETING
	PRICE
	SECURITY
}

enum UserNotificationChannel {
	PUSH
}

type UserNotificationChannelSettings {
	enabled: Boolean!
	disabledCategories: [UserNotificationCategory!]!
}

type UserNotificationSettings {
	push: UserNotificationChannelSettings!
}

type UserUpdateNotificationSettingsPayload {
	notificationSettings: UserNotificationSettings!
}

extend schema @link(
	url: "https://specs.apollo.dev/federation/v2.3",
	import: ["@key", "@tag", "@shareable", "@inaccessible", "@override", "@external", "@provides", "@requires", "@composeDirective", "@interfaceObject"]
)
directive @include(if: Boolean!) on FIELD | FRAGMENT_SPREAD | INLINE_FRAGMENT
directive @skip(if: Boolean!) on FIELD | FRAGMENT_SPREAD | INLINE_FRAGMENT
